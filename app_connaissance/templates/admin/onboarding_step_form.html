{% extends "_layouts/app.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
  <div class="grid gap-6">
    <section class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between">
      <div>
        <span class="inline-flex items-center gap-1.5 rounded-full border border-sky-200 bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700">
          <i data-lucide="graduation-cap" class="h-3.5 w-3.5"></i>
          Administration
        </span>
        <h1 class="mt-3 text-3xl font-bold tracking-tight text-slate-900">{{ title }}</h1>
      </div>
      <a class="inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50" href="{% url 'onboarding_steps_admin' %}">
        <i data-lucide="arrow-left" class="h-4 w-4"></i>
        Retour aux Ã©tapes
      </a>
    </section>

    <section class="mx-auto max-w-xl rounded-3xl border border-slate-200/80 bg-white/95 p-6 shadow-sm sm:p-8">
      <p class="mb-4 text-sm text-slate-500"><span class="font-semibold text-rose-600">*</span> Champs obligatoires</p>
      <form method="post" class="space-y-5">
        {% csrf_token %}
        <div>
          <label for="id_title" class="block text-sm font-semibold text-slate-900">Titre <span class="text-rose-600">*</span></label>
          <input type="text" name="title" id="id_title" value="{{ form.title.value|default:'' }}" maxlength="140" required class="mt-1.5 w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20" />
          {% if form.title.errors %}<p class="mt-1 text-xs text-rose-600">{{ form.title.errors.0 }}</p>{% endif %}
        </div>
        <div>
          <label for="id_description" class="block text-sm font-semibold text-slate-900">Description</label>
          <textarea name="description" id="id_description" rows="2" maxlength="240" class="mt-1.5 w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20">{{ form.description.value|default:'' }}</textarea>
        </div>
        <div>
          <label for="id_order" class="block text-sm font-semibold text-slate-900">Ordre <span class="text-rose-600">*</span></label>
          <input type="number" name="order" id="id_order" value="{{ form.order.value|default:1 }}" min="1" required class="mt-1.5 w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20" />
          {% if form.order.errors %}<p class="mt-1 text-xs text-rose-600">{{ form.order.errors.0 }}</p>{% endif %}
        </div>
        <div class="flex items-center gap-2">
          <input type="checkbox" name="is_required" id="id_is_required" {% if form.is_required.value %}checked{% endif %} class="h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500" />
          <label for="id_is_required" class="text-sm font-semibold text-slate-900">Obligatoire</label>
        </div>
        <div class="flex flex-wrap gap-3 border-t border-slate-200 pt-5">
          <button type="submit" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-sky-500 to-sky-600 px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-sky-500/25 transition hover:from-sky-600 hover:to-sky-700">
            <i data-lucide="check" class="h-4 w-4"></i>
            Enregistrer
          </button>
          <a href="{% url 'onboarding_steps_admin' %}" class="inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-5 py-2.5 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50">Annuler</a>
        </div>
      </form>
    </section>
  </div>
{% endblock %}
